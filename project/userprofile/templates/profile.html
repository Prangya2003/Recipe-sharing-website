{% extends "base.html" %}
{% block title %}{{ user.username }}'s Profile{% endblock %}
{% block body %}
{% include "navbar.html" %}
<style>
    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h1 {
        font-size: 2.5rem;
        color: #343a40;
        padding-top: 18px;
        margin-bottom: 20px;
    }

    h2 {
        font-size: 1.75rem;
        color: #495057;
        margin-top: 20px;
        border-bottom: 2px solid #dee2e6;
        padding-bottom: 10px;
    }

    h3 {
        font-size: 1.25rem;
        color: #212529;
    }

    p {
        font-size: 1rem;
        color: #6c757d;
    }

    .btn {
        font-size: 0.75rem;
        padding: 6px 10px;
        border-radius: 4px;
        text-transform: uppercase;
        transition: background-color 0.3s;
        display: inline-block;
        text-align: center;
        color: white;
        text-decoration: none;
    }

    .btn-primary {
        background-color: #007bff;
        border: none;
    }

    .btn-primary:hover {
        background-color: #0056b3;
    }

    .btn-secondary {
        background-color: #28a745;
        border: none;
    }

    .btn-secondary:hover {
        background-color: #218838;
    }

    .recipe-item {
        margin-bottom: 20px;
        padding: 15px;
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    .recipe-id {
        font-size: 0.875rem;
        color: #868e96;
    }
</style>

<div class="container mt-5 pt-4">
    <h1>{{ user.username }}'s Profile</h1>
    <p>Is this your profile? <strong>{{ data.is_user_profile }}</strong></p>
    <p>Total Recipes: <strong>{{ data.recipes_count }}</strong></p>

    {% if data.is_user_profile %}
        <h2>My Recipes</h2>
        {% for recipe in data.user_recipes %}
            <div class="recipe-item">
                <h3>{{ recipe.recipe_name }}</h3>
                <!-- Debug output -->
                <p class="recipe-id">Recipe ID: {{ recipe.id }}</p>
                <a href="{% url 'recipe_detail' recipe.id %}" class="btn btn-secondary">View Recipe</a>
            </div>
        {% endfor %}
        
        <h2>Update Profile</h2>
        <a href="{% url 'update_user_profile' %}" class="btn btn-primary">Update Profile</a>
        
        <h2>Update Password</h2>
        <a href="{% url 'update_password_view' %}" class="btn btn-primary">Update Password</a>

        <h2>Add Recipe</h2>
        <a href="{% url 'create_recipe_view' %}" class="btn btn-primary">Add Recipe</a><br>
    {% endif %}

    {% if data.recipes_count > 0 %}
    <a href="{% url 'view_more_posts' user.username %}" class="btn btn-primary">Read_More</a>
    {% endif %}
        <div class="footer">
            
            <a href="{% url 'faq' %}">FAQ</a>
            <a href="{% url 'contact' %}">Contact Us</a>
            <a href="{% url 'services' %}">Services</a>
        </div>
</div>
{% endblock %}
